import{_ as C}from"./AppBody.vue_vue_type_script_setup_true_lang.9332f0e3.js";import{d as v,r as g,l as h,o as c,f as i,b as t,F as I,m as S,n as m,q as E,t as p,p as A,i as M,_ as B,g as b,c as F,w as N,a as k,u as T,s as q}from"./index.255d102b.js";const f=e=>(A("data-v-a993e061"),e=e(),M(),e),R={class:"location-container"},V=["src"],D=f(()=>t("div",{id:"loader",class:"loader"},null,-1)),z=f(()=>t("div",{class:"btn-border"},null,-1)),P=f(()=>t("i",{class:"a_icon icon-action-attack"},null,-1)),L=[D,z,P],j=v({__name:"AppFight",props:{avatar:{type:String,required:!0},timeout:{type:Number,default:1},disableAttack:{type:Boolean,required:!1},callback:{type:Function,required:!0}},setup(e){const o=e,a=g(0),d=h([]),l=h({left:"20%",top:"30%"}),s=g(!0),u=o.timeout*1e3/100,y=(n=100)=>{const r=document.getElementById("loader");if(r&&(r.style.height=n+"%"),n===0){s.value=!0;return}setTimeout(()=>y(n-1),u)},$=async()=>{const n=document.getElementById("loader");if(s.value&&!o.disableAttack&&n&&(n.style.height="100%"),!s.value||o.disableAttack)return;s.value=!1;const r=await o.callback();if(l.left=Math.floor(Math.random()*70)+"%",l.top=Math.floor(Math.random()*70)+"%",d.push(r),y(),a.value===0){a.value=1;return}if(a.value===1){a.value=2;return}a.value=1};return(n,r)=>(c(),i("div",R,[t("div",{id:"enemy",class:m(["enemy",{"enemy-shake":a.value===1,"enemy-shake2":a.value===2}])},[(c(!0),i(I,null,S(d,(_,x)=>(c(),i("div",{class:"damage-text",style:E({left:l.left,top:l.top}),key:x},[t("div",{class:m({damage__critical:_.hero.isCritical})},"-"+p(_.hero.damage),3),t("div",{class:m(["damage_enemy",{damage__critical:_.enemy.isCritical}])},"-"+p(_.enemy.damage),3)],4))),128)),t("img",{src:e.avatar,alt:"enemy"},null,8,V)],2),t("div",{onClick:$,class:m(["a_btn-icon",{"btn-active":s.value&&!e.disableAttack,"btn-disable":e.disableAttack}])},L,2)]))}});const G=B(j,[["__scopeId","data-v-a993e061"]]),H="/assets/forest-enemy.365b9567.png",J="/assets/arrow.6473f5e4.svg",K="/assets/reload.14006271.svg",w=e=>(A("data-v-2331cd46"),e=e(),M(),e),O={class:"location-container"},Q={class:"menu_item"},U={key:0,class:"app-heading__btn back-btn"},W=w(()=>t("img",{src:J,alt:"Back arrow icon"},null,-1)),X=[W],Y={class:"menu_item"},Z={class:"app-heading__title"},ee={class:"menu_item"},te={key:0,class:"app-heading__btn reload-btn"},ae=w(()=>t("img",{src:K,alt:"Reload icon"},null,-1)),se=[ae],oe=v({__name:"AppTitle",props:{title:{type:String,required:!0},back:{type:Boolean,default:!1},reload:{type:Boolean,default:!1}},setup(e){return(o,a)=>(c(),i("div",O,[t("div",Q,[e.back?(c(),i("button",U,X)):b("",!0)]),t("div",Y,[t("h2",Z,p(e.title),1)]),t("div",ee,[e.reload?(c(),i("button",te,se)):b("",!0)])]))}});const ne=B(oe,[["__scopeId","data-v-2331cd46"]]),ie=v({__name:"FightView",setup(e){const o=q(),a=h({count:0}),d=s=>new Promise(u=>setTimeout(u,s)),l=async()=>(await d(3e3),a.count++,a.count>=3&&setTimeout(()=>o.push({name:"start__end"}),200),{hero:{damage:Number(Math.floor(Math.random()*300)),isCritical:Math.floor(Math.random()*4)>1},enemy:{damage:Number(Math.floor(Math.random()*300)),isCritical:Math.floor(Math.random()*4)>1}});return(s,u)=>(c(),F(C,null,{default:N(()=>[k(ne,{title:"\u041B\u0435\u0441\u043D\u043E\u0439 \u0432\u043E\u0438\u043D"}),k(G,{avatar:T(H),timeout:5,"disable-attack":!1,callback:l},null,8,["avatar"])]),_:1}))}});export{ie as default};
