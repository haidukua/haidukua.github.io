import{_ as I}from"./AppBody.vue_vue_type_script_setup_true_lang.7692e58d.js";import{d as h,r as v,l as m,o as s,f as n,b as t,F as S,m as w,n as d,q as F,t as p,p as k,i as b,_ as M,g,c as N,w as T,a as y,u as q,s as E}from"./index.55b73aab.js";const B=e=>(k("data-v-69275a31"),e=e(),b(),e),V={class:"location-container"},D=["src"],R=B(()=>t("div",{id:"loader",class:"loader"},null,-1)),z=B(()=>t("i",{class:"icon icon-action-attack"},null,-1)),L=[R,z],P=h({__name:"AppFight",props:{image:{type:String,required:!0},canAttacks:{type:Boolean,required:!0},callback:{type:Function,required:!0}},setup(e){const l=e,a=v(0),r=m([]),c=m({left:"20%",top:"30%"}),i=v(!0),A=3*1e3/100,f=(o=100)=>{const u=document.getElementById("loader");if(u&&(u.style.height=o+"%"),o===0){i.value=!0;return}setTimeout(()=>f(o-1),A)},C=async()=>{if(i.value===!1)return;i.value=!1;const o=l.callback();if(c.left=Math.floor(Math.random()*70)+"%",c.top=Math.floor(Math.random()*70)+"%",r.push(o),f(),a.value===0){a.value=1;return}if(a.value===1){a.value=2;return}a.value=1};return(o,u)=>(s(),n("div",V,[t("div",{id:"enemy",class:d(["enemy",{"enemy-shake":a.value===1,"enemy-shake2":a.value===2}])},[(s(!0),n(S,null,w(r,(_,$)=>(s(),n("div",{class:"damage-text",style:F({left:c.left,top:c.top}),key:$},[t("div",{class:d({damage__critical:_.hero.isCritical})},"-"+p(_.hero.damage),3),t("div",{class:d(["damage_enemy",{damage__critical:_.enemy.isCritical}])},"-"+p(_.enemy.damage),3)],4))),128)),t("img",{src:e.image,alt:"enemy"},null,8,D)],2),t("div",{onClick:C,class:d(["btn-icon",{"btn-active":i.value}])},L,2)]))}});const j=M(P,[["__scopeId","data-v-69275a31"]]),G="/assets/forest-enemy.07278516.png",H="/assets/arrow.6473f5e4.svg",J="/assets/reload.14006271.svg",x=e=>(k("data-v-ed855774"),e=e(),b(),e),K={class:"location-container"},O={class:"item"},Q={key:0,class:"app-heading__btn back-btn"},U=x(()=>t("img",{src:H,alt:"Back arrow icon"},null,-1)),W=[U],X={class:"item"},Y={class:"app-heading__title"},Z={class:"item"},ee={key:0,class:"app-heading__btn reload-btn"},te=x(()=>t("img",{src:J,alt:"Reload icon"},null,-1)),ae=[te],se=h({__name:"AppTitle",props:{title:{type:String,required:!0},back:{type:Boolean,default:!1},reload:{type:Boolean,default:!1}},setup(e){return(l,a)=>(s(),n("div",K,[t("div",O,[e.back?(s(),n("button",Q,W)):g("",!0)]),t("div",X,[t("h2",Y,p(e.title),1)]),t("div",Z,[e.reload?(s(),n("button",ee,ae)):g("",!0)])]))}});const oe=M(se,[["__scopeId","data-v-ed855774"]]),ie=h({__name:"FightView",setup(e){const l=E(),a=m({count:0}),r=()=>(a.count++,a.count>=3&&setTimeout(()=>l.push({name:"start__end"}),200),{hero:{damage:Number(Math.floor(Math.random()*300)),isCritical:Math.floor(Math.random()*4)>1},enemy:{damage:Number(Math.floor(Math.random()*300)),isCritical:Math.floor(Math.random()*4)>1}});return(c,i)=>(s(),N(I,null,{default:T(()=>[y(oe,{title:"\u041B\u0435\u0441\u043D\u043E\u0439 \u0432\u043E\u0438\u043D"}),y(j,{image:q(G),"can-attacks":!0,callback:r},null,8,["image"])]),_:1}))}});export{ie as default};
